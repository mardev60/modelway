<div class="max-w-7xl mx-auto p-6">
  <h1 class="text-2xl font-bold text-gray-900 mb-8">API Calls History</h1>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="flex justify-center items-center py-20">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"></div>
  </div>

  <!-- History Table -->
  <div *ngIf="!isLoading" class="bg-white rounded-lg shadow overflow-hidden">
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-50">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Model</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">App</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tokens</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cost</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Speed</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Provider</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let item of history">
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            {{ item.timestamp | date:'MMM d, y, h:mm:ss a' }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-primary-600">
            {{ item.model }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            {{ item.app }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            {{ item.inputTokens }} â†’ {{ item.outputTokens }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            ${{ item.cost.toFixed(8) }}
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            {{ item.speed.toFixed(1) }} tps
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
            {{ item.provider }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div> 